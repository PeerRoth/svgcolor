import React , { useState , useEffect } from 'react'
import { Row , Col } from 'react-bootstrap';
import { 
    CirclePicker ,
    SwatchesPicker
 } from 'react-color'
import { pmsColors } from './pmscolors.jsx';




export default function ColorPacker( props ) {

    const { colors , handleColorPick , 
        selectedPath , setCurrentColorIndex , 
        setColorFromBelow ,
        currentColorIndex ,
        deleteOnePath } = props;

    console.log( colors , selectedPath );
    console.log( colors[ selectedPath ] )

    function handleChangeComplete( colr ) {
        console.log( colr );
        let clrHax = colr.hex.replace( '#' , '' );
        console.log( clrHax )
        console.log( selectedPath )
        handleColorPick( selectedPath , colr.hex );
        setColorFromBelow( clrHax )
    }

    var pcol = pmsColors.map( p => ( p[ 2 ] ) )
    var pcor = pcol.slice( 0 , 200 );
    var arrayOfArrays = [ ];
    [ ...'abcdefghijklmnopqrstuv' ].map( ( a , b ) => {
        let start = b * 6;
        let end = ( b * 6 ) + 6;
        arrayOfArrays.push( pcor.slice( start , end ) );
    } );




    return ( <>



                <Row>
                    <Col>
                    <svg 
                        onClick={ deleteOnePath }
                        width={ 50 } height={ 50 } viewBox="0 0 512 512"  xmlns="http://www.w3.org/2000/svg">
                        <path  fill={ colors[ currentColorIndex ]  } d="m226.859 342.398v-105.64c0-4.143-3.357-7.5-7.5-7.5s-7.5 3.357-7.5 7.5v105.64c0 4.143 3.357 7.5 7.5 7.5s7.5-3.357 7.5-7.5z"/>
                        <path  fill={ colors[ currentColorIndex ]  } d="m175.707 366.599v-154.042c0-4.143-3.357-7.5-7.5-7.5s-7.5 3.357-7.5 7.5v154.042c0 4.143 3.357 7.5 7.5 7.5s7.5-3.357 7.5-7.5z"/>
                        <path  fill={ colors[ currentColorIndex ]  } d="m124.555 342.398v-105.64c0-4.143-3.357-7.5-7.5-7.5s-7.5 3.357-7.5 7.5v105.64c0 4.143 3.357 7.5 7.5 7.5s7.5-3.357 7.5-7.5z"/>
                        <path  fill={ colors[ currentColorIndex ]  }  d="m498.54 336.28c-4.616-6.626-9.259-13.003-13.852-19.033l9.216-5.041c4.007-2.19 6.496-6.389 6.496-10.956s-2.489-8.766-6.496-10.956l-11.877-6.496-6.495-11.876c-2.19-4.007-6.389-6.496-10.955-6.496-4.567 0-8.766 2.489-10.956 6.496l-3.176 5.807c-11.394-11.331-22.699-20.759-34.122-28.43.921-1.246 1.472-2.781 1.472-4.449 0-4.143-3.357-7.5-7.5-7.5h-3.863l11.909-22.073c2.589-4.798 3.18-10.324 1.663-15.56l-2.845-9.825c-2.149-7.421-8.189-12.979-15.762-14.507l-42.328-8.543c-7.067-1.428-14.224.861-19.155 6.114l-7.845 8.358c-5.314 5.662-7.004 13.727-4.41 21.045l12.4 34.99h-5.817c-4.143 0-7.5 3.357-7.5 7.5 0 1.674.555 3.215 1.482 4.463-9.436 6.35-18.837 13.917-28.243 22.741l12.681-121.194h10.92c7.076 0 12.833-5.757 12.833-12.833v-24.534c0-7.076-5.757-12.833-12.833-12.833h-92.995l-9.546-21.669c-3.914-8.881-12.713-14.619-22.417-14.619h-15.424c-4.143 0-7.5 3.357-7.5 7.5s3.357 7.5 7.5 7.5h15.423c3.762 0 7.173 2.225 8.69 5.667l6.882 15.621h-91.977l6.882-15.62c1.518-3.443 4.929-5.668 8.69-5.668h15.423c4.143 0 7.5-3.357 7.5-7.5s-3.357-7.5-7.5-7.5h-15.423c-9.704 0-18.503 5.738-22.417 14.62l-9.546 21.668h-13.304c1.366-2.027 2.134-4.446 2.134-6.979-.001-4.566-2.49-8.764-6.496-10.954l-11.877-6.495-6.495-11.877c-2.19-4.007-6.389-6.496-10.956-6.496s-8.766 2.489-10.956 6.496l-6.495 11.877-11.877 6.495c-4.006 2.19-6.495 6.388-6.496 10.954 0 2.533.768 4.951 2.134 6.979h-12.309c-7.076.001-12.834 5.758-12.834 12.834v24.534c0 7.076 5.758 12.833 12.834 12.833h10.919l20.273 193.753c.403 3.854 3.658 6.721 7.45 6.721.261 0 .524-.014.789-.042 4.12-.431 7.11-4.12 6.679-8.239l-20.109-192.192h258.745l-14.479 138.38c-12.287 13.478-24.625 29.121-37.106 47.04-8.829 12.676-13.483 27.352-13.461 42.451l.005.942c.163 21.393 9.436 40.694 24.107 54.289-5.036 3.333-10.994 5.178-17.101 5.178h-142.676c-15.89 0-29.119-11.918-30.772-27.722l-3.972-37.952c-.431-4.119-4.118-7.117-8.239-6.679-4.12.431-7.11 4.12-6.679 8.239l3.972 37.952c2.454 23.466 22.098 41.161 45.69 41.161h142.676c10.818 0 21.323-3.887 29.555-10.79 11.367 6.845 24.67 10.79 38.853 10.79h128.631c17.29 0 34.199-5.994 47.614-16.877 3.217-2.609 3.708-7.333 1.099-10.55-2.61-3.217-7.334-3.708-10.55-1.099-10.75 8.722-24.304 13.525-38.163 13.525h-128.632c-33.062 0-60.164-26.728-60.413-59.596l-.005-.85c-.018-11.998 3.706-23.7 10.77-33.842 32.213-46.248 63.03-76.528 94.157-92.504h2.25l-3.429 10.054c-1.337 3.92.757 8.183 4.678 9.52.802.273 1.618.403 2.422.403 3.12 0 6.034-1.963 7.098-5.081l5.08-14.895h4.344l4.103 12.911c1.015 3.192 3.966 5.23 7.146 5.23.753 0 1.519-.114 2.273-.354 3.947-1.254 6.131-5.472 4.876-9.419l-2.659-8.368h1.433c15.923 8.167 31.511 19.888 47.402 35.631l-4.23 2.313c-4.007 2.19-6.496 6.389-6.496 10.956s2.489 8.766 6.496 10.956l11.878 6.496 6.495 11.876c2.19 4.007 6.389 6.496 10.956 6.496 4.566 0 8.765-2.489 10.955-6.496l.177-.324c3.498 4.686 7.017 9.566 10.523 14.599 7.063 10.143 10.787 21.845 10.769 33.854l-.004.853c-.066 8.721-1.988 17.133-5.712 25.002-1.771 3.744-.173 8.216 3.571 9.987 1.036.49 2.128.723 3.203.723 2.81 0 5.503-1.586 6.784-4.294 4.663-9.854 7.069-20.387 7.153-31.312l.004-.947c.023-15.085-4.631-29.759-13.46-42.437zm-449.313-247.242c2.098-1.147 3.813-2.863 4.962-4.963l4.645-8.492 4.646 8.494c1.147 2.098 2.863 3.813 4.963 4.962l8.492 4.645-8.488 4.643c-2.1 1.146-3.817 2.862-4.968 4.966-.109.2-4.917 8.99-4.645 8.492-.162-.297-4.948-9.048-4.646-8.494-1.149-2.102-2.867-3.817-4.963-4.962l-8.492-4.645zm-34.227 26.622h28.857l4.02 7.352c2.19 4.007 6.389 6.496 10.956 6.496s8.766-2.489 10.956-6.496l4.02-7.352h247.605v20.2h-306.414zm328.006 75.921 7.845-8.358c1.352-1.44 3.314-2.065 5.251-1.677l42.328 8.543c2.076.419 3.731 1.942 4.32 3.977l2.845 9.825c.416 1.435.254 2.948-.456 4.264l-15.752 29.196h-9.017c-.015 0-.03 0-.045 0h-24.353l-14.175-40.001c-.711-2.007-.248-4.218 1.209-5.769zm121.569 127.769-4.645-8.493c-1.149-2.101-2.867-3.817-4.964-4.962l-8.492-4.645 8.484-4.64h.001s.001 0 .001-.001l.008-.004c.008-.004.015-.01.023-.015 1.849-1.021 3.746-2.765 4.94-4.948l4.645-8.491 4.645 8.493c1.147 2.097 2.863 3.812 4.964 4.962l8.491 4.645-8.487 4.643c-4.212 2.299-5.306 5.858-6.075 6.988-.009.016-.017.032-.026.048z"/>
                    </svg>
                                
                    </Col>
                </Row>


                <Row
                    style={ {
                        fontWeight : 600
                    } } >
                        <Col>
                            LOGO COLRS
                        </Col>
                </Row>

                <Row>
                    <Col>
                        <CirclePicker 
                            colors={ colors }
                            onChangeComplete={ handleChangeComplete }
                            color={ colors[ currentColorIndex ] } 
                            // color={ colorLocal } 
                            />
                    </Col>
                </Row>


                <Row
                    style={ {
                        fontWeight : 600
                    } } >
                    <Col>
                        PMS COLRS
                    </Col>
                </Row>
                    

                <Row>
                    <Col>
                        <SwatchesPicker 
                            colors={ arrayOfArrays }
                            onChangeComplete={ handleChangeComplete } 
                        />
                    </Col>
                </Row>



            </> )
}